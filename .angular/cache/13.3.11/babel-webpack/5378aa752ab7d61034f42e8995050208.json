{"ast":null,"code":"import _classCallCheck from \"C:\\\\Users\\\\Nassim\\\\Desktop\\\\jocl-angular\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\classCallCheck.js\";\nimport _createClass from \"C:\\\\Users\\\\Nassim\\\\Desktop\\\\jocl-angular\\\\node_modules\\\\@babel\\\\runtime\\\\helpers\\\\esm\\\\createClass.js\";\nimport { FormBuilder, Validators } from '@angular/forms';\nimport { Router } from '@angular/router';\nimport { AuthService } from 'src/app/service/auth.service';\nimport Swal from 'sweetalert2';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nimport * as i2 from \"src/app/service/auth.service\";\nimport * as i3 from \"@angular/router\";\nexport var RegistervalidComponent = /*#__PURE__*/(function () {\n  var RegistervalidComponent = /*#__PURE__*/function () {\n    function RegistervalidComponent(fb, authService, router) {\n      _classCallCheck(this, RegistervalidComponent);\n\n      this.fb = fb;\n      this.authService = authService;\n      this.router = router;\n      this.signupForm = this.fb.group({\n        username: ['', Validators.required],\n        email: ['', [Validators.required, Validators.email]],\n        password: ['', [Validators.required, Validators.minLength(6)]],\n        role: ['PRESIDENT']\n      });\n    }\n\n    _createClass(RegistervalidComponent, [{\n      key: \"ngOnInit\",\n      value: function ngOnInit() {}\n    }, {\n      key: \"signup\",\n      value: function signup() {\n        var _this = this;\n\n        var _this$signupForm$valu = this.signupForm.value,\n            username = _this$signupForm$valu.username,\n            email = _this$signupForm$valu.email,\n            password = _this$signupForm$valu.password,\n            role = _this$signupForm$valu.role;\n        this.authService.register(username, email, password, [role]).subscribe(function (response) {\n          console.log(response);\n          Swal.fire({\n            title: 'Succès !',\n            text: 'Inscription réussie.',\n            icon: 'success',\n            confirmButtonText: 'OK'\n          }).then(function () {\n            _this.router.navigate([\"examples/login-page\"]);\n          });\n        }, function (error) {\n          console.error(error);\n          Swal.fire({\n            title: 'Erreur',\n            text: 'L\\'inscription a échoué. Veuillez réessayer.',\n            icon: 'error',\n            confirmButtonText: 'OK'\n          });\n        });\n      }\n    }]);\n\n    return RegistervalidComponent;\n  }();\n\n  RegistervalidComponent.ɵfac = function RegistervalidComponent_Factory(t) {\n    return new (t || RegistervalidComponent)(i0.ɵɵdirectiveInject(i1.FormBuilder), i0.ɵɵdirectiveInject(i2.AuthService), i0.ɵɵdirectiveInject(i3.Router));\n  };\n\n  RegistervalidComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: RegistervalidComponent,\n    selectors: [[\"app-registervalid\"]],\n    decls: 2,\n    vars: 0,\n    template: function RegistervalidComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵelementStart(0, \"p\");\n        i0.ɵɵtext(1, \"registervalid works!\");\n        i0.ɵɵelementEnd();\n      }\n    },\n    encapsulation: 2\n  });\n  return RegistervalidComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}